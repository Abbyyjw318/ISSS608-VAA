---
title: "Take-home_Ex01"
author: "Wu Yanjie"
---

# Introduction

## 1.1 Background

This study analyzes survey data collected from students at the University of Education, Vietnam National University, Hanoi. The dataset aims to explore factors potentially associated with students’ academic performance, measured using categorized GPA levels.

Understanding the relationship between academic outcomes and factors such as study behavior, institutional support, and perceived lecturer quality is important for identifying patterns that may contribute to student success.

## 1.2 Objectives

This analysis aims to:

-   Examine the overall distribution of GPA among students

-   Explore whether demographic characteristics influence GPA

-   Investigate behavioral factors (study time, social media usage)

-   Analyze perceived institutional and lecturer-related factors

-   Identify which factors show stronger associations with academic performance

# Getting Started

Load Packages\
We load the following R packages using the pacman::p_load() function to support data import, wrangling, visualisation, and statistical graphics:
tidyverse: Core collection of packages for data wrangling (dplyr), data import (readr), and data visualisation (ggplot2).
scales: Provides scaling functions (e.g., percentage labels) used in ggplot2 visualisations.
ggthemes: Offers additional themes to improve plot aesthetics beyond default ggplot2 themes.
ggridges: Used to create ridgeline density plots for comparing GPA distributions across ordinal groups.
ggdist: Provides visualisations of distributions and uncertainty (e.g., median + interval plots using stat_pointinterval()).
ggstatsplot: Produces enhanced statistical visualisations such as ggbetweenstats(), integrating non-parametric tests and effect sizes directly into the plots.
colorspace: Supports colour palettes and colour manipulation utilities (useful when fine-tuning plot appearance).

```{r}
pacman::p_load(tidyverse, ggdist, ggridges, ggthemes, scales, ggstatsplot, colorspace)
```

Import data


```{r}
Database_paper <- read_csv("data/Database_paper.csv")
```
The dataset contains 2,170 survey responses collected in 2023.\

Variables include:

-   

    Demographic factors (Gender, Year, Family background)

    Behavioral factors (Study time, Social media time, Time with friends)

    Institutional perception (Support, Facilities, Lecturer quality)

    Academic outcome (GPA categorized into five levels)
```{r}
library(tidyverse)
library(readxl)


df <- Database_paper %>%
  mutate(
    GPA_num = as.numeric(as.character(GPA)),
    GPA_f = factor(GPA, levels = 1:5, ordered = TRUE),
    Time_Studying      = factor(Time_Studying,      levels = 1:5, ordered = TRUE),
    Time_SocicalMedia  = factor(Time_SocicalMedia,  levels = 1:5, ordered = TRUE),
    Time_Friends       = factor(Time_Friends,       levels = 1:5, ordered = TRUE),
    Adapt_Learning_Uni = factor(Adapt_Learning_Uni, levels = 1:5, ordered = TRUE),
    SupportOf_Lec      = factor(SupportOf_Lec,      levels = 1:5, ordered = TRUE),
    Quality_Lecturer   = factor(Quality_Lecturer,   levels = 1:5, ordered = TRUE),
    Competitive_Class  = factor(Competitive_Class,  levels = 1:5, ordered = TRUE),
    Gender = factor(Gender, labels = c("Male", "Female")),
    Year   = factor(Year, levels = 1:5, ordered = TRUE)
  )
```
All ordinal variables were converted into ordered factors.

Although the primary objective of this study is exploratory, non-parametric group comparisons (Kruskal–Wallis tests) are conducted where appropriate to assess whether observed differences across ordinal categories are statistically meaningful. Given that GPA and most explanatory variables are measured on ordinal scales, rank-based methods are preferred over parametric alternatives. Statistical results are interpreted alongside effect sizes to emphasize practical rather than merely statistical significance.

GPA was treated as an ordered categorical variable throughout the analysis. Numeric coding was used solely to facilitate rank-based non-parametric comparison and visualization, without assuming equal interval spacing between categories.

Overall GPA Distribution
To understand the general academic performance of students, we first examine the overall distribution of GPA categories. GPA is treated as an ordered categorical variable ranging from “Poor” to “Excellent.” Since the objective is exploratory rather than inferential, we focus on visualizing how GPA values are distributed across the student population.
We use a bar chart to display the proportion of students in each GPA category. This allows clear comparison of relative frequencies and provides an intuitive overview of central tendency and dispersion. Percentages are used instead of counts to improve interpretability.
```{r}
ggplot(df, aes(x = GPA_f)) +
  geom_bar(aes(y = after_stat(prop), group = 1)) +
  scale_y_continuous(labels = scales::percent) +
  labs(
    title = "Overall Distribution of GPA",
    x = "GPA Category",
    y = "Percentage of Students")
```
The overall distribution of GPA categories reveals that the majority of students are concentrated in the “Fair” and “Good” performance levels, with noticeably fewer students in the “Poor” and “Excellent” categories. This indicates that academic outcomes within the sample are moderately centralized rather than highly polarized. The relatively small proportion of students at the extremes suggests limited academic disparity at both ends of the performance spectrum. The clustering around mid-level categories may reflect common institutional grading structures or similar academic engagement levels among students. Establishing this baseline distribution is important because it provides a reference framework for interpreting subgroup differences in subsequent analyses. Without understanding the central tendency and spread of GPA levels, it would be difficult to meaningfully evaluate whether behavioral or institutional factors correspond with substantial performance shifts.


Demographic Differences
To examine whether demographic characteristics influence academic outcomes, we compare GPA distribution across gender groups. Gender is treated as a categorical variable with two levels: Male and Female. GPA remains an ordered categorical variable.

We use a grouped bar chart showing the percentage distribution of GPA within each gender. Displaying proportions rather than raw counts allows fair comparison across groups regardless of group size. The side-by-side bars facilitate visual comparison of performance patterns.
```{r}
ggplot(df, aes(x = GPA_f, fill = Gender)) +
  geom_bar(aes(y = after_stat(prop), group = Gender),
           position = "dodge") +
  scale_y_continuous(labels = scales::percent) +
  labs(
    title = "GPA Distribution by Gender",
    y = "Percentage"
  )

```
The comparison of GPA distribution across gender groups shows largely similar patterns between male and female students. Both groups display concentration within the “Fair” and “Good” categories, with only minor differences in the upper performance levels. Although female students appear to have a slightly higher proportion in the “Excellent” category, the overall distribution shape remains consistent across genders. The overlap in central tendency and spread suggests that gender does not emerge as a strong differentiating factor in academic performance within this dataset. While small variations may exist, they do not indicate substantial structural disparities. This pattern implies that academic outcomes are more likely influenced by other behavioral or institutional variables rather than demographic characteristics alone. Therefore, gender appears to play a relatively limited role in explaining GPA variability in this sample.

Study Time and GPA




Social Media Usage and GPA
To investigate whether social media usage relates to academic outcomes, we compare GPA distributions across different levels of reported daily social media time. Social media time is treated as an ordered categorical variable. GPA remains numeric for distribution comparison.

We use a boxplot with jittered points to summarize central tendency and variability across groups. The boxplot highlights median GPA and interquartile range, while the jittered points display individual observations to provide additional context.
```{r}
ggplot(df, aes(x = Time_SocicalMedia, y = GPA_num)) +
  geom_boxplot() +
  geom_jitter(width = 0.1, alpha = 0.3) +
  labs(title = "GPA by Social Media Time")

```
The boxplot comparison of GPA across social media usage levels indicates relatively stable median GPA values across groups.Although statistical testing suggests significance, the effect size and overlapping interquartile ranges indicate that the practical impact remains limited. The interquartile ranges overlap substantially, suggesting limited practical divergence in academic outcomes among different usage categories. Higher levels of social media engagement do not show a dramatic downward shift in GPA distribution, though slight increases in variability are observable in certain groups. This pattern implies that while social media usage may be statistically associated with academic performance, its practical influence appears comparatively small. The absence of a strong monotonic trend suggests that social media time alone may not substantially alter academic outcomes. Instead, its impact may depend on how usage interacts with other behavioral and environmental factors within students’ daily routines.




Learning Adaptation and GPA

To examine whether students’ adaptation to the university learning environment is associated with academic performance, we compare GPA distributions across adaptation levels. Learning adaptation is treated as an ordered Likert-scale variable.

```{r}
library(ggdist)

ggplot(df, aes(x = Adapt_Learning_Uni, y = GPA_num)) +
  stat_pointinterval(
  point_interval = median_qi,
  .width = 0.95
  ) +
  labs(title = "GPA by Learning Adaptation Level")
```
The visualization of GPA distribution across levels of learning adaptation reveals a consistent upward trend in academic performance as adaptation levels increase. Students reporting stronger adjustment to the university learning environment demonstrate higher concentrations within the “Good” and “Excellent” GPA categories. Conversely, lower adaptation levels correspond with wider dispersion and greater presence in mid-to-lower GPA categories. The progressive shift in distribution suggests that students who adapt effectively may experience more stable and favorable academic outcomes. The reduction in variability among high-adaptation groups further indicates greater performance consistency. While the analysis does not establish causality, the clear directional association highlights adaptation as a potentially important factor related to academic achievement. This finding aligns with educational theories emphasizing the role of environmental adjustment in supporting student engagement and long-term performance stability.


Lecturer Quality and GPA

To assess the potential influence of perceived lecturer quality, we compare GPA distributions across ordered lecturer-quality ratings. Lecturer quality is measured on a five-point Likert scale and treated as an ordinal variable.

```{r}
ggbetweenstats(
  data = df,
  x = Quality_Lecturer,
  y = GPA_num,
  type = "np",
  messages = FALSE,
  title = "Lecturer Quality vs GPA"
)
```
The comparison of GPA distributions across perceived lecturer quality levels demonstrates a gradual upward association between instructional quality and academic performance. Students who rate lecturer quality more highly tend to exhibit higher median GPA levels and greater concentration in upper performance categories. Lower quality ratings correspond with slightly lower central tendency and increased dispersion in GPA outcomes. Although the magnitude of difference appears modest, the statistical test indicates significance. However, the effect size is small (η² ≈ 0.01), suggesting that while perceived lecturer quality is statistically associated with GPA, the practical magnitude of this relationship is limited. Therefore, lecturer quality should be interpreted as one contributing factor rather than a dominant determinant of academic performance.
It should be noted that group sizes across lecturer-quality levels are highly unequal (e.g., n = 16 in the lowest category versus n = 1,152 in the highest). While non-parametric methods are robust to non-normality, such imbalance may influence statistical sensitivity and interpretation. Therefore, findings should be interpreted with consideration of the underlying distribution of responses.

Lecturer Support and GPA

To further explore lecturer-related factors, we analyze GPA distribution across levels of perceived lecturer support. Lecturer support is treated as an ordered Likert-scale variable.

We use a boxplot with non-parametric comparison to examine differences in GPA across support levels. This method allows evaluation of median shifts while accommodating the ordinal nature of the data.

```{r}
ggbetweenstats(
  data = df,
  x = SupportOf_Lec,
  y = GPA_num,
  type = "np",
  messages = FALSE,
  title = "Lecturer Support vs GPA"
)
```

The analysis of GPA across levels of perceived lecturer support reveals a similar pattern to lecturer quality, with modest upward shifts in median GPA as support levels increase. Students who report higher levels of lecturer support tend to demonstrate slightly more favorable academic distributions, particularly within the upper GPA categories. However, the interquartile ranges continue to overlap across groups, indicating that differences, while present, are not substantial in magnitude. The visual pattern suggests a positive but moderate association between perceived support and academic outcomes. The limited separation between groups implies that lecturer support likely interacts with additional factors—such as study behavior or personal motivation—in shaping overall performance. Therefore, while lecturer support appears to contribute to academic achievement, it should be interpreted as one of several interconnected influences.
Similar to lecturer quality, the effect size remains small, indicating that the association, although statistically significant, explains only a limited proportion of variation in GPA.

```{r}
df %>%
  count(SupportOf_Lec, GPA_f) %>%
  group_by(SupportOf_Lec) %>%
  mutate(prop = n/sum(n)) %>%
  ggplot(aes(x = GPA_f, y = SupportOf_Lec, fill = prop)) +
  geom_tile() +
  scale_fill_gradient(low = "white", high = "steelblue") +
  labs(title = "GPA Distribution across Lecturer Support Levels")
```


